<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>تطبيق الدردشة المتطور</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/4.3.2/socket.io.js"></script>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="container">
        <div id="loginArea" class="auth-area">
            <h1><i class="fas fa-sign-in-alt"></i> تسجيل الدخول</h1>
            <div class="input-group">
                <i class="fas fa-envelope"></i>
                <input type="email" id="loginEmail" placeholder="البريد الإلكتروني" required>
            </div>
            <div class="input-group">
                <i class="fas fa-lock"></i>
                <input type="password" id="loginPassword" placeholder="كلمة المرور" required>
            </div>
            <button onclick="login()" class="btn-primary"><i class="fas fa-sign-in-alt"></i> دخول</button>
            <div class="switch-form" onclick="showSignupForm()">
                إنشاء حساب جديد
            </div>
        </div>

        <div id="signupArea" class="auth-area" style="display: none;">
            <h1><i class="fas fa-user-plus"></i> إنشاء حساب</h1>
            <div class="input-group">
                <i class="fas fa-user"></i>
                <input type="text" id="signupUsername" placeholder="اسم المستخدم (3-30 حرفًا)" required>
            </div>
            <div class="input-group">
                <i class="fas fa-envelope"></i>
                <input type="email" id="signupEmail" placeholder="البريد الإلكتروني" required>
            </div>
            <div class="input-group">
                <i class="fas fa-lock"></i>
                <input type="password" id="signupPassword" placeholder="كلمة المرور (8 أحرف على الأقل)" required>
            </div>
            <button onclick="signup()" class="btn-primary"><i class="fas fa-user-plus"></i> إنشاء الحساب</button>
            <div class="switch-form" onclick="showLoginForm()">تسجيل الدخول لحساب موجود</div>
        </div>

        <div id="chatArea" style="display: none;">
            <header>
                <h1><i class="fas fa-comments"></i> الدردشة</h1>
                <button onclick="logout()" class="btn-secondary"><i class="fas fa-sign-out-alt"></i> تسجيل الخروج</button>
            </header>
            <div id="messages" class="messages-container"></div>
            <div class="input-area">
                <input type="text" id="messageInput" placeholder="اكتب رسالتك هنا">
                <button onclick="sendMessage()" class="btn-primary"><i class="fas fa-paper-plane"></i> إرسال</button>
            </div>
        </div>
    </div>

    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-auth.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-firestore.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-database.js"></script>
    <script src="script.js"></script>
</body>
</html>